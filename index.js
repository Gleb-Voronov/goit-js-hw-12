import{a as H,S as O,i}from"./assets/vendor-BjRz3xa9.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();const A="49662945-8e09ebd816e6f5a1c3c1cc874",D="https://pixabay.com/api/",S=async(r,t=1,s=15)=>{try{return(await H.get(D,{params:{key:A,q:r,page:t,per_page:s,image_type:"photo",orientation:"horizontal",safesearch:!0}})).data}catch(n){throw console.error("Error fetching images:",n),n}},u=document.querySelector(".gallery"),y=document.querySelector(".loader-js");document.querySelector(".load-more-btn");function v(r,t=!1){if(!u){console.error("Елемент галереї не знайдений.");return}const s=document.createDocumentFragment();r.forEach(({webformatURL:n,largeImageURL:e,tags:o,likes:l,views:h,comments:x,downloads:k})=>{const L=document.createElement("li");L.classList.add("gallery-item");const d=document.createElement("a");d.classList.add("item-link"),d.href=e;const m=document.createElement("img");m.classList.add("img"),m.src=n,m.alt=o,m.loading="lazy";const C=document.createElement("ul");C.classList.add("statistic-list"),[{label:"Likes",value:l},{label:"Views",value:h},{label:"Comments",value:x},{label:"Downloads",value:k}].forEach(({label:P,value:R})=>{const g=document.createElement("li");g.classList.add("statistic-item");const b=document.createElement("p");b.classList.add("statistic-text"),b.textContent=P;const E=document.createElement("p");E.classList.add("statistic-value"),E.textContent=R,g.appendChild(b),g.appendChild(E),C.appendChild(g)}),d.appendChild(m),d.appendChild(C),L.appendChild(d),s.appendChild(L)}),t||(u.innerHTML=""),u.appendChild(s),new O(".gallery li a",{captionsData:"alt",captionDelay:250}).refresh()}function w(){u?u.innerHTML="":console.error("Елемент галереї не знайдений.")}function q(){y?y.classList.add("loader"):console.error("Елемент завантажувача не знайдений.")}function c(){y?y.classList.remove("loader"):console.error("Елемент завантажувача не знайдений.")}const M=document.querySelector(".form"),a=document.querySelector(".load-more-btn");document.querySelector(".loader-js");let f=1;const I=15;let p="";M.addEventListener("submit",T);a.addEventListener("click",N);async function T(r){if(r.preventDefault(),p=r.target.elements.text.value.trim(),!!p){f=1,q();try{const t=await S(p,f),s=t.hits;if(s.length===0){i.warning({message:"На жаль, за вашим запитом нічого не знайдено. Спробуйте інший запит!",messageColor:"#ffffff",backgroundColor:"#ef4040",position:"topRight"}),w(),a.style.display="none",c();return}w(),v(s),t.totalHits<=f*I?(a.style.display="none",i.info({message:"На жаль, ви досягли кінця результатів пошуку.",messageColor:"#ffffff",backgroundColor:"#ef4040",position:"topRight"})):a.style.display="block",c()}catch(t){console.error("Error fetching images:",t),a.style.display="none",i.info({message:"На жаль, сторінки закінчилися.",messageColor:"#ffffff",backgroundColor:"#ef4040",position:"topRight"}),w(),c()}}}async function N(){f+=1,q();try{const r=await S(p,f),t=r.hits;if(t.length===0){a.style.display="none",i.info({message:"На жаль, ви досягли кінця результатів пошуку.",messageColor:"#ffffff",backgroundColor:"#ef4040",position:"topRight"}),c();return}v(t,!0),_(t.length),r.totalHits<=f*I&&(a.style.display="none",i.info({message:"На жаль, ви досягли кінця результатів пошуку.",messageColor:"#ffffff",backgroundColor:"#ef4040",position:"topRight"})),c()}catch(r){console.error("Error fetching images:",r),a.style.display="none",i.info({message:"На жаль, сторінки закінчилися.",messageColor:"#ffffff",backgroundColor:"#ef4040",position:"topRight"}),c()}}function _(r){const s=document.querySelector(".gallery").querySelectorAll(".gallery-item"),n=s.length,e=Array.from(s).slice(n-r);if(e.length===0)return;const o=e.reduce((l,h)=>l+h.offsetHeight,0);window.scrollBy({top:o*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
